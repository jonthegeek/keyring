<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="These functions manipulate keys in a keyring. You can think of a keyring
as a secure key-value store."><title>Operations on keys — key_get • keyring</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.8/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.8/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Operations on keys — key_get"><meta property="og:description" content="These functions manipulate keys in a keyring. You can think of a keyring
as a secure key-value store."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">keyring</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.3.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-lib/keyring/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Operations on keys</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/keyring/blob/HEAD/R/api.R" class="external-link"><code>R/api.R</code></a></small>
      <div class="d-none name"><code>key_get.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions manipulate keys in a keyring. You can think of a keyring
as a secure key-value store.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">key_get</span><span class="op">(</span><span class="va">service</span>, username <span class="op">=</span> <span class="cn">NULL</span>, keyring <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">key_get_raw</span><span class="op">(</span><span class="va">service</span>, username <span class="op">=</span> <span class="cn">NULL</span>, keyring <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">key_set</span><span class="op">(</span><span class="va">service</span>, username <span class="op">=</span> <span class="cn">NULL</span>, keyring <span class="op">=</span> <span class="cn">NULL</span>, prompt <span class="op">=</span> <span class="st">"Password: "</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">key_set_with_value</span><span class="op">(</span><span class="va">service</span>, username <span class="op">=</span> <span class="cn">NULL</span>, password <span class="op">=</span> <span class="cn">NULL</span>, keyring <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">key_set_with_raw_value</span><span class="op">(</span></span>
<span>  <span class="va">service</span>,</span>
<span>  username <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  password <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  keyring <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">key_delete</span><span class="op">(</span><span class="va">service</span>, username <span class="op">=</span> <span class="cn">NULL</span>, keyring <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">key_list</span><span class="op">(</span>service <span class="op">=</span> <span class="cn">NULL</span>, keyring <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>service</dt>
<dd><p>Service name, a character scalar.</p></dd>


<dt>username</dt>
<dd><p>Username, a character scalar, or <code>NULL</code> if the key
is not associated with a username.</p></dd>


<dt>keyring</dt>
<dd><p>For systems that support multiple keyrings, specify
the name of the keyring to use here. If <code>NULL</code>, then the default
keyring is used. See also <code><a href="has_keyring_support.html">has_keyring_support()</a></code>.</p></dd>


<dt>prompt</dt>
<dd><p>The character string displayed when requesting the secret</p></dd>


<dt>password</dt>
<dd><p>The secret to store. For <code>key_set</code>, it is read from
the console, interactively. <code>key_set_with_value</code> can be also used
in non-interactive mode.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>key_get</code> returns a character scalar, the password or other
confidential information that was stored in the key.</p>


<p><code>key_list</code> returns a list of keys, i.e. service names and usernames,
in a data frame.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>key_get</code> queries a key from the keyring.</p>
<p><code>key_get_raw</code> queries a key and returns it as a raw vector.
Most credential stores allow storing a byte sequence with embedded null
bytes, and these cannot be represented as traditional null bytes
terminated strings. If you don't know whether the key contains an
embedded null, it is best to query it with <code>key_get_raw</code> instead of
<code>key_get</code>.</p>
<p><code>key_set</code> sets a key in the keyring. The contents of the key is read
interactively from the terminal.</p>
<p><code>key_set_with_value</code> is the non-interactive pair of <code>key_set</code>, to set
a key in the keyring.</p>
<p><code>key_set_raw_with_value</code> sets a key to a byte sequence from a raw
vector.</p>
<p><code>key_delete</code> deletes a key.</p>
<p><code>key_list</code> lists all keys of a keyring, or the keys for a certain
service (if <code>service</code> is not <code>NULL</code>).</p><div class="section">
<h3 id="encodings">Encodings<a class="anchor" aria-label="anchor" href="#encodings"></a></h3>


<p>On Windows, if required, an encoding can be specified using either
an R option (<code>keyring.encoding_windows</code>) or environment variable
(<code>KEYRING_ENCODING_WINDOWS</code>). This will be applied when both
getting and setting keys. The option takes precedence over the
environment variable, if both are set.</p>
<p>This is reserved primarily for compatibility with keys set with
other software, such as Python's implementation of keyring. For a
list of encodings, use <code><a href="https://rdrr.io/r/base/iconv.html" class="external-link">iconvlist()</a></code>, although it should be noted
that not <em>every</em> encoding can be properly converted, even for
trivial cases. For best results, use UTF-8 if you can.</p>
</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># These examples use the default keyring, and they are interactive,</span></span></span>
<span class="r-in"><span><span class="co"># so, we don't run them by default</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">key_set</span><span class="op">(</span><span class="st">"R-keyring-test-service"</span>, <span class="st">"donaldduck"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">key_get</span><span class="op">(</span><span class="st">"R-keyring-test-service"</span>, <span class="st">"donaldduck"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="has_keyring_support.html">has_keyring_support</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="fu">key_list</span><span class="op">(</span>service <span class="op">=</span> <span class="st">"R-keyring-test-service"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">key_delete</span><span class="op">(</span><span class="st">"R-keyring-test-service"</span>, <span class="st">"donaldduck"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## This is non-interactive, assuming that that default keyring</span></span></span>
<span class="r-in"><span><span class="co">## is unlocked</span></span></span>
<span class="r-in"><span><span class="fu">key_set_with_value</span><span class="op">(</span><span class="st">"R-keyring-test-service"</span>, <span class="st">"donaldduck"</span>,</span></span>
<span class="r-in"><span>                   password <span class="op">=</span> <span class="st">"secret"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">key_get</span><span class="op">(</span><span class="st">"R-keyring-test-service"</span>, <span class="st">"donaldduck"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="has_keyring_support.html">has_keyring_support</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="fu">key_list</span><span class="op">(</span>service <span class="op">=</span> <span class="st">"R-keyring-test-service"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">key_delete</span><span class="op">(</span><span class="st">"R-keyring-test-service"</span>, <span class="st">"donaldduck"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## This is interactive using backend_file</span></span></span>
<span class="r-in"><span><span class="co">## Set variables to be used in keyring</span></span></span>
<span class="r-in"><span><span class="va">kr_name</span> <span class="op">&lt;-</span> <span class="st">"my_keyring"</span></span></span>
<span class="r-in"><span><span class="va">kr_service</span> <span class="op">&lt;-</span> <span class="st">"my_database"</span></span></span>
<span class="r-in"><span><span class="va">kr_username</span> <span class="op">&lt;-</span> <span class="st">"my_username"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Create a keyring and add an entry using the variables above</span></span></span>
<span class="r-in"><span><span class="va">kb</span> <span class="op">&lt;-</span> <span class="fu">keyring</span><span class="fu">::</span><span class="va"><a href="backend_file.html">backend_file</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Prompt for the keyring password, used to unlock keyring</span></span></span>
<span class="r-in"><span><span class="va">kb</span><span class="op">$</span><span class="fu">keyring_create</span><span class="op">(</span><span class="va">kr_name</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Prompt for the secret/password to be stored in the keyring</span></span></span>
<span class="r-in"><span><span class="va">kb</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span><span class="va">kr_service</span>, username<span class="op">=</span><span class="va">kr_username</span>, keyring<span class="op">=</span><span class="va">kr_name</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Lock the keyring</span></span></span>
<span class="r-in"><span><span class="va">kb</span><span class="op">$</span><span class="fu">keyring_lock</span><span class="op">(</span><span class="va">kr_name</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The keyring file is stored at ~/.config/r-keyring/ on Linux</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Output the stored password</span></span></span>
<span class="r-in"><span><span class="fu">keyring</span><span class="fu">::</span><span class="va"><a href="backend_file.html">backend_file</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span>service <span class="op">=</span> <span class="va">kr_service</span>,</span></span>
<span class="r-in"><span>  user <span class="op">=</span> <span class="va">kr_username</span>,</span></span>
<span class="r-in"><span>  keyring <span class="op">=</span> <span class="va">kr_name</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer></body></html>

